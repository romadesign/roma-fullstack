<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.- Editando, Eliminando nuestro article | ROMACODE</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="y">
    <meta name="theme-color" content="#003189">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/roma-fullstack/assets/css/0.styles.88a17620.css" as="style"><link rel="preload" href="/roma-fullstack/assets/js/app.597ac0ff.js" as="script"><link rel="preload" href="/roma-fullstack/assets/js/2.3f4652b3.js" as="script"><link rel="preload" href="/roma-fullstack/assets/js/17.20124216.js" as="script"><link rel="prefetch" href="/roma-fullstack/assets/js/10.e5b0c0c2.js"><link rel="prefetch" href="/roma-fullstack/assets/js/11.fe73249a.js"><link rel="prefetch" href="/roma-fullstack/assets/js/12.dd9c948b.js"><link rel="prefetch" href="/roma-fullstack/assets/js/13.c32b18e9.js"><link rel="prefetch" href="/roma-fullstack/assets/js/14.0d88fe13.js"><link rel="prefetch" href="/roma-fullstack/assets/js/15.06da0dec.js"><link rel="prefetch" href="/roma-fullstack/assets/js/16.18e030f8.js"><link rel="prefetch" href="/roma-fullstack/assets/js/18.22fdecee.js"><link rel="prefetch" href="/roma-fullstack/assets/js/19.1a37fc83.js"><link rel="prefetch" href="/roma-fullstack/assets/js/20.62666232.js"><link rel="prefetch" href="/roma-fullstack/assets/js/21.58154950.js"><link rel="prefetch" href="/roma-fullstack/assets/js/22.d099f11c.js"><link rel="prefetch" href="/roma-fullstack/assets/js/23.074c3ffc.js"><link rel="prefetch" href="/roma-fullstack/assets/js/24.2dcda4ea.js"><link rel="prefetch" href="/roma-fullstack/assets/js/25.88bc144d.js"><link rel="prefetch" href="/roma-fullstack/assets/js/26.9d8cf484.js"><link rel="prefetch" href="/roma-fullstack/assets/js/27.947ea268.js"><link rel="prefetch" href="/roma-fullstack/assets/js/28.84de38de.js"><link rel="prefetch" href="/roma-fullstack/assets/js/29.ec2d940a.js"><link rel="prefetch" href="/roma-fullstack/assets/js/3.375264fa.js"><link rel="prefetch" href="/roma-fullstack/assets/js/30.a7285ad4.js"><link rel="prefetch" href="/roma-fullstack/assets/js/31.ffce1023.js"><link rel="prefetch" href="/roma-fullstack/assets/js/32.b9846abd.js"><link rel="prefetch" href="/roma-fullstack/assets/js/33.99dfdc7d.js"><link rel="prefetch" href="/roma-fullstack/assets/js/34.3d51baea.js"><link rel="prefetch" href="/roma-fullstack/assets/js/35.37bc914a.js"><link rel="prefetch" href="/roma-fullstack/assets/js/36.1c6081cb.js"><link rel="prefetch" href="/roma-fullstack/assets/js/37.4b02a31c.js"><link rel="prefetch" href="/roma-fullstack/assets/js/38.54b7ad60.js"><link rel="prefetch" href="/roma-fullstack/assets/js/39.a9bc9eb0.js"><link rel="prefetch" href="/roma-fullstack/assets/js/4.85f105cc.js"><link rel="prefetch" href="/roma-fullstack/assets/js/40.9413f1bd.js"><link rel="prefetch" href="/roma-fullstack/assets/js/41.b7439622.js"><link rel="prefetch" href="/roma-fullstack/assets/js/42.63e9cae9.js"><link rel="prefetch" href="/roma-fullstack/assets/js/43.c42ec85a.js"><link rel="prefetch" href="/roma-fullstack/assets/js/44.20ca0751.js"><link rel="prefetch" href="/roma-fullstack/assets/js/45.81148a0e.js"><link rel="prefetch" href="/roma-fullstack/assets/js/46.ad75822c.js"><link rel="prefetch" href="/roma-fullstack/assets/js/47.1e070332.js"><link rel="prefetch" href="/roma-fullstack/assets/js/48.07e9d4c9.js"><link rel="prefetch" href="/roma-fullstack/assets/js/49.846a561d.js"><link rel="prefetch" href="/roma-fullstack/assets/js/5.90a54b9f.js"><link rel="prefetch" href="/roma-fullstack/assets/js/50.97bf7808.js"><link rel="prefetch" href="/roma-fullstack/assets/js/51.88d0e863.js"><link rel="prefetch" href="/roma-fullstack/assets/js/52.c3b69e27.js"><link rel="prefetch" href="/roma-fullstack/assets/js/53.d0ecdff1.js"><link rel="prefetch" href="/roma-fullstack/assets/js/54.f996c15b.js"><link rel="prefetch" href="/roma-fullstack/assets/js/55.ee4815e9.js"><link rel="prefetch" href="/roma-fullstack/assets/js/56.83cf946c.js"><link rel="prefetch" href="/roma-fullstack/assets/js/57.dde0ff3b.js"><link rel="prefetch" href="/roma-fullstack/assets/js/58.c5004a54.js"><link rel="prefetch" href="/roma-fullstack/assets/js/59.4baf569b.js"><link rel="prefetch" href="/roma-fullstack/assets/js/6.f79a99d3.js"><link rel="prefetch" href="/roma-fullstack/assets/js/60.7a4ce42c.js"><link rel="prefetch" href="/roma-fullstack/assets/js/61.944b13c3.js"><link rel="prefetch" href="/roma-fullstack/assets/js/62.ac6b523a.js"><link rel="prefetch" href="/roma-fullstack/assets/js/7.c75d85e5.js"><link rel="prefetch" href="/roma-fullstack/assets/js/8.3a3bf5bc.js"><link rel="prefetch" href="/roma-fullstack/assets/js/9.643f3ba3.js">
    <link rel="stylesheet" href="/roma-fullstack/assets/css/0.styles.88a17620.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/roma-fullstack/" class="home-link router-link-active"><!----> <span class="site-name">ROMACODE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Lenguajes Menu" class="dropdown-title"><span class="title">Lenguajes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Lenguajes Menu" class="mobile-dropdown-title"><span class="title">Lenguajes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/php/" class="nav-link">
  Php
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/javascript/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bases de datos" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow down"></span></button> <button type="button" aria-label="Bases de datos" class="mobile-dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/mysql/" class="nav-link">
  MySql
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/mongooo/" class="nav-link">
  MongoDb
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">Front-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">Front-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/vuejs/" class="nav-link">
  VueJs
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/reactjs/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/jquery/" class="nav-link">
  JQuery
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">Back-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">Back-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/laravel/" class="nav-link">
  Laravel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Full stack" class="dropdown-title"><span class="title">Full Stack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Full stack" class="mobile-dropdown-title"><span class="title">Full Stack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/fullstack-mevn/" class="nav-link">
  MEVN STACK
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/fullstack-lanm/" class="nav-link router-link-active">
  LANM STACK
</a></li></ul></div></div><div class="nav-item"><a href="/roma-fullstack/github/" class="nav-link">
  GitHub
</a></div><div class="nav-item"><a href="https://romadesign.github.io/roma" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Lenguajes Menu" class="dropdown-title"><span class="title">Lenguajes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Lenguajes Menu" class="mobile-dropdown-title"><span class="title">Lenguajes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/php/" class="nav-link">
  Php
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/javascript/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bases de datos" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow down"></span></button> <button type="button" aria-label="Bases de datos" class="mobile-dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/mysql/" class="nav-link">
  MySql
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/mongooo/" class="nav-link">
  MongoDb
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front end" class="dropdown-title"><span class="title">Front-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front end" class="mobile-dropdown-title"><span class="title">Front-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/vuejs/" class="nav-link">
  VueJs
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/reactjs/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/jquery/" class="nav-link">
  JQuery
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Back end" class="dropdown-title"><span class="title">Back-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="Back end" class="mobile-dropdown-title"><span class="title">Back-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/laravel/" class="nav-link">
  Laravel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Full stack" class="dropdown-title"><span class="title">Full Stack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Full stack" class="mobile-dropdown-title"><span class="title">Full Stack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/roma-fullstack/fullstack-mevn/" class="nav-link">
  MEVN STACK
</a></li><li class="dropdown-item"><!----> <a href="/roma-fullstack/fullstack-lanm/" class="nav-link router-link-active">
  LANM STACK
</a></li></ul></div></div><div class="nav-item"><a href="/roma-fullstack/github/" class="nav-link">
  GitHub
</a></div><div class="nav-item"><a href="https://romadesign.github.io/roma" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>fullstack-lanm</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/roma-fullstack/fullstack-lanm/" aria-current="page" class="sidebar-link">Encuentra Repositorios full stack Laravel and NextJs</a></li><li><a href="/roma-fullstack/fullstack-lanm/install.html" class="sidebar-link">1.- Primeros pasos</a></li><li><a href="/roma-fullstack/fullstack-lanm/segundo-pasos.html" class="sidebar-link">2.- Creando nuestro primer model (Article)</a></li><li><a href="/roma-fullstack/fullstack-lanm/tercer-paso.html" class="sidebar-link">3.- Creando nuestro primer factory y Seed (Article)</a></li><li><a href="/roma-fullstack/fullstack-lanm/cuarto-paso.html" class="sidebar-link">4.- Creando nuestro primer Controller and Resource (Article)</a></li><li><a href="/roma-fullstack/fullstack-lanm/quinto-paso.html" class="sidebar-link">5.- Creando nuestro Frontend con Next Js</a></li><li><a href="/roma-fullstack/fullstack-lanm/realizar-post.html" class="sidebar-link">5.- Creando nuestro primer (Article) POST</a></li><li><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html" aria-current="page" class="active sidebar-link">6.- Editando, Eliminando nuestro article</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#editar-un-article-y-tambien-funciona-como-detalle-frontend" class="sidebar-link">Editar un article y también funciona como detalle (Frontend)</a></li><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#editar-un-article-backend" class="sidebar-link">Editar un article (Backend)</a></li><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#eliminando-un-article-frontend" class="sidebar-link">Eliminando un article (Frontend)</a></li><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#eliminando-un-article-backend" class="sidebar-link">Eliminando un article (Backend)</a></li><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#actualizando-los-datos-de-la-lista-sin-refrescar-pagina" class="sidebar-link">Actualizando los datos de la lista sin refrescar página</a></li><li class="sidebar-sub-header"><a href="/roma-fullstack/fullstack-lanm/mostrar-articles.html#eliminar-article-sin-refrescar-pagina" class="sidebar-link">Eliminar article sin refrescar página</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6-editando-eliminando-nuestro-article"><a href="#_6-editando-eliminando-nuestro-article" class="header-anchor">#</a> 6.- Editando, Eliminando nuestro article</h1> <p>Para eso ya tenemos nuestra api <code>Route::get('/articles', [ArticleController::class, 'index'])</code> y la utilizamos en el frontend para traer todos los articles</p> <ul><li>En este caso solo los usuarios logeados pueden realizar un petición GET y para eso desde el front tenemos que enviar su token del usuario para capturar el user</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">import</span> <span class="token punctuation">{</span> useAuth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/hooks/auth'</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>articles<span class="token punctuation">,</span> setArticles<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">,</span> articles<span class="token punctuation">)</span> <span class="token comment">// miramos los datos</span>

    <span class="token comment">// Para eso necesitamos el token que almacenamos en las cookies</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> getCookie <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> token <span class="token operator">=</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

    <span class="token comment">// Creamos función</span>
    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getFilms</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
			<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/articles</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				headers<span class="token operator">:</span> <span class="token punctuation">{</span> 
                    <span class="token comment">// Enviando la cookie de usuario</span>
					<span class="token string">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
				 <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data
        <span class="token comment">// Almacenamos los datos</span>
		<span class="token function">setArticles</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>articles<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><ul><li>Ya tenemos los datos en <code>setArticles</code>.</li> <li>Recordar que aparte de los datos también tenemos la paginación.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// Mostrando los datos</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>articles <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
				<span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
					<span class="token punctuation">{</span>articles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">article</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
						<span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>article<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>article<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
					<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> 
			<span class="token punctuation">(</span><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span> cargando datos<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h2 id="editar-un-article-y-tambien-funciona-como-detalle-frontend"><a href="#editar-un-article-y-tambien-funciona-como-detalle-frontend" class="header-anchor">#</a> Editar un article y también funciona como detalle (Frontend)</h2> <p>*Para mostrar el detalle de un articulo tenemos que crear una carpeta nueva con el nombre 'article' y dentro crear un archivo '[id].js' en este caso editaremos un article y al mismo tiempo mostraremos solo los datos del article que queremos actualizar</p> <p>En el archivo principal donde mostramos todos los articles debemos de agregar un Botón para que nos envíe a una nueva ruta donde solo mostraremos los datos de ese artículo seleccionado</p> <p>Para eso importaremos useRouter</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/router'</span>

	<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>article<span class="token operator">?.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>article<span class="token operator">?.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>button
				onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span>
				router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
				<span class="token string">'/articles/[id]'</span><span class="token punctuation">,</span>
				<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/articles/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>article<span class="token operator">?.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> Edit
		<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><ul><li>En el otro archivo creado ahora colocamos los siguientes datos <code>[id].js</code></li></ul> <p>Los datos ya traídos se encuentran en las props <code>const ArticleDetail = ({ articles })</code></p> <p>Tenemos una función donde traemos los datos de un solo article en <code>getServerSideProps</code>
y almacenamos en un <code>const [article, setArticle] = useState(articles.article)</code></p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/router'</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState<span class="token punctuation">,</span> useSyncExternalStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
	<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> useAuth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/hooks/auth'</span>

	<span class="token keyword">const</span> <span class="token function-variable function">ArticleDetail</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> articles <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

		<span class="token keyword">const</span> <span class="token punctuation">[</span>article<span class="token punctuation">,</span> setArticle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">)</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
				hello
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getServerSideProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token parameter">context</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> articles <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
			<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/article/</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> context<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			props<span class="token operator">:</span> <span class="token punctuation">{</span>
				articles<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> ArticleDetail
</code></pre></div><ul><li>Para editar un artículo ahora lo realizamos sin utilizar librerías.</li></ul> <p>En esta oportunidad Next ya nos creó componentes reutilizables como Input y Label</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">import</span> Label <span class="token keyword">from</span> <span class="token string">'@/components/Label'</span>
	<span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">'@/components/Input'</span>

	<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>title<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Input
      id<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
      type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
      placeholder<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
    <span class="token comment">//value={updateTitle}</span>
    <span class="token comment">//onChange={event =&gt; setUpdateTitle(event.target.value)}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>Ahora creamos todos los parámetros ya sea input y const que necesitamos para todos los datos de un article</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">const</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> setId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">.</span>id<span class="token punctuation">)</span> 
  <span class="token keyword">const</span> <span class="token punctuation">[</span>title<span class="token punctuation">,</span> setTitle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">.</span>title<span class="token punctuation">)</span> 
	<span class="token keyword">const</span> <span class="token punctuation">[</span>slug<span class="token punctuation">,</span> setSlug<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">.</span>slug<span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>body<span class="token punctuation">,</span> setBody<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">.</span>body<span class="token punctuation">)</span> 
  <span class="token keyword">const</span> <span class="token punctuation">[</span>image<span class="token punctuation">,</span> setImage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>articles<span class="token punctuation">.</span>article<span class="token punctuation">.</span>image<span class="token punctuation">)</span> 
</code></pre></div><ul><li>Ahora en los Input colocamos el value <code>value={updateTitle}</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>title<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>Input
		id<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
		type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
		placeholder<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
		value<span class="token operator">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span>
		onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">setTitle</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
	<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>Así se tendría que tener todos los inputs</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>title<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Input
			id<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
			type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
			placeholder<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
			value<span class="token operator">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span>
			onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">setTitle</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
		<span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;slug&quot;</span><span class="token operator">&gt;</span>slug<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Input
			id<span class="token operator">=</span><span class="token string">&quot;slug&quot;</span>
			type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
			placeholder<span class="token operator">=</span><span class="token string">&quot;slug&quot;</span>
			value<span class="token operator">=</span><span class="token punctuation">{</span>slug<span class="token punctuation">}</span>
			onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">setSlug</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
		<span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;body&quot;</span><span class="token operator">&gt;</span>body<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Input
			id<span class="token operator">=</span><span class="token string">&quot;body&quot;</span>
			type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
			placeholder<span class="token operator">=</span><span class="token string">&quot;body&quot;</span>
			value<span class="token operator">=</span><span class="token punctuation">{</span>body<span class="token punctuation">}</span>
			onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">setBody</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
		<span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;image&quot;</span><span class="token operator">&gt;</span>image<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Input
			id<span class="token operator">=</span><span class="token string">&quot;image&quot;</span>
			type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span>
			value<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">}</span>
			onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">setImage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
		<span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>button <span class="token operator">&gt;</span>Update<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
</code></pre></div><ul><li>Para la parte de la imagen tenemos que crear una función nuevamente para poder actualizar y mostrar en pantalla si ingresamos una imagen nueva al input <code>file</code>.</li></ul> <p>Así queda nuestro input para la imagen</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token operator">&lt;</span>Label htmlFor<span class="token operator">=</span><span class="token string">&quot;image&quot;</span><span class="token operator">&gt;</span>image<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>Input
		id<span class="token operator">=</span><span class="token string">&quot;image&quot;</span>
		type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span>
		<span class="token comment">//Creamos una función nueva ya dentro de esta función guardaremos la imagen</span>
		onChange<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token function">submitImage</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">}</span>
	<span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>img id<span class="token operator">=</span><span class="token string">&quot;output&quot;</span>
		src<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">}</span>
	<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>Ya capturamos la imagen ahora tenemos que enviar los datos nuevos que queremos enviar para actualizar el dato</p> <ul><li>Para enviar los datos utilizaremos <code>FormData()</code> así que al botón le agregamos la opción onClick</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">function</span> <span class="token function">submitImage</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> files <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files
		<span class="token keyword">const</span> file <span class="token operator">=</span> files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token function">getBase64</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

		<span class="token comment">//show image</span>
		<span class="token keyword">var</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> output <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			output<span class="token punctuation">.</span>src <span class="token operator">=</span> reader<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> <span class="token function-variable function">onLoad</span> <span class="token operator">=</span> <span class="token parameter">fileString</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setImage</span><span class="token punctuation">(</span>fileString<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> <span class="token function-variable function">getBase64</span> <span class="token operator">=</span> <span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
		reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">onLoad</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>Ya capturamos la imagen, ahora tenemos que enviar los datos nuevos que queremos enviar para actualizar el dato</p> <ul><li>Para enviar los datos utilizaremos <code>FormData()</code> así que al botón le agregamos la opción onClick</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token operator">&lt;</span>button  onClick<span class="token operator">=</span><span class="token punctuation">{</span>updateArticle<span class="token punctuation">}</span><span class="token operator">&gt;</span>Update<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

	<span class="token keyword">const</span> <span class="token function-variable function">updateFilm</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Colocamos los datos a enviar</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>En nuestra función agregamos lo siguiente</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token comment">//submitDataUpdate article</span>
	<span class="token keyword">const</span> <span class="token function-variable function">updateArticle</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">let</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>
    	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'slug'</span><span class="token punctuation">,</span> slug<span class="token punctuation">)</span>
    	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span>
    	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
		<span class="token keyword">await</span> axios
		<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
			<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/article/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/edit</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			formData<span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'llega'</span><span class="token punctuation">)</span>
			<span class="token comment">// router.push(&quot;/&quot;)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><h2 id="editar-un-article-backend"><a href="#editar-un-article-backend" class="header-anchor">#</a> Editar un article (Backend)</h2> <p>En nuestro backend tenemos que crear un endpoint para actualizar nuestro article</p> <p>Vamos a <code>ArticleController.php</code> y buscamos la función <code>public function update(){}</code></p> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$article</span> <span class="token operator">=</span> <span class="token class-name static-context">Article</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">title</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token property">body</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">body</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token property">slug</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">slug</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token property">image</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">image</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Article update succesfully'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>Ahora vamos al archivo <code>api.php</code> y creamos la ruta</p> <div class="language- extra-class"><pre class="language-text"><code>	Route::post('/article/{id}/edit', [ArticleController::class, 'update']);
</code></pre></div><p>Y listo ya podemos actualizar nuestro article, recordar que faltan las validaciones como:
Que el usuario con el mismo Id pueda actualizar y otras validaciones más para que sea más seguro.</p> <h2 id="eliminando-un-article-frontend"><a href="#eliminando-un-article-frontend" class="header-anchor">#</a> Eliminando un article (Frontend)</h2> <ul><li>Ahora vamos a eliminar un article</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">//Enviamos el id del article</span>
		<span class="token keyword">const</span> <span class="token function-variable function">handleDelete</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">await</span> axios
			<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
				<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/article/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/delete</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
			<span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'llega'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token operator">&lt;</span>button	
			<span class="token comment">//Enviamos el Id del article</span>
			onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleDelete</span><span class="token punctuation">(</span>article<span class="token operator">?.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span>
			className<span class="token operator">=</span><span class="token string">&quot;btn btn-danger&quot;</span><span class="token operator">&gt;</span>
			Delete
		<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><h2 id="eliminando-un-article-backend"><a href="#eliminando-un-article-backend" class="header-anchor">#</a> Eliminando un article (Backend)</h2> <ul><li>Ahora vamos a la parte del backend a crear nuestro endpoint para poder eliminar</li></ul> <p>Vamos al archivo <code>api.php</code> y agregamos la nueva ruta de nuestro endpoint.</p> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/article/{id}/delete'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name static-context">ArticleController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Ahora vamos al archivo <code>ArticleController.php</code> y buscamos la función <code>destroy</code></p> <div class="language-php extra-class"><pre class="language-php"><code>	<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$article</span> <span class="token operator">=</span> <span class="token class-name static-context">Article</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Article delete succesfully'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Listo así de fácil es eliminar un article</p> <h2 id="actualizando-los-datos-de-la-lista-sin-refrescar-pagina"><a href="#actualizando-los-datos-de-la-lista-sin-refrescar-pagina" class="header-anchor">#</a> Actualizando los datos de la lista sin refrescar página</h2> <p>Ahora actualizaremos los datos sin recargar la página y vaciamos los input, acordarse que estamos utilizando una librería externa para poder crear un article así que tendremos que realizar algunas configuraciones diferentes para que funcione correctamente.</p> <p>Para reset los input tenemos que utilizar una función de la librería react-hooks-form llamara <code>reset</code> y colocarla acá</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">const</span> <span class="token punctuation">{</span> handleSubmit<span class="token punctuation">,</span> control<span class="token punctuation">,</span> formState<span class="token operator">:</span> <span class="token punctuation">{</span> errors <span class="token punctuation">}</span><span class="token punctuation">,</span> reset  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useForm</span><span class="token punctuation">(</span>
		<span class="token punctuation">{</span>
			defaultValues<span class="token operator">:</span> <span class="token punctuation">{</span>
				title<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
				slug<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
				body<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
				image<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Además coloquemos los datos restantes que faltan como body y image para que funcione correctamente</p> <ul><li>Al momento de crear un nuevo article en la función <code>onSubmit</code> tenemos que agregar unas líneas para actualizar la lista de articles sin refrezcar la página</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		data<span class="token punctuation">.</span>image <span class="token operator">=</span> imageselect
		<span class="token keyword">var</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> slug<span class="token punctuation">,</span> body<span class="token punctuation">,</span> image  <span class="token punctuation">}</span> <span class="token operator">=</span> data 
		<span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/article</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">,</span>
				<span class="token punctuation">{</span>headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">//Actualizando articles pero esto va con un nuevo useEffects</span>
				<span class="token function">setArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token comment">//Ocultando la imagen después de crear un article</span>
				<span class="token keyword">var</span> output <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				output<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
				<span class="token comment">//Limpiando valor del input imageselect para dejar vacía</span>
				<span class="token function">setImage</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
				<span class="token comment">//Limpiando los datos restantes</span>
				<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Ya habiendo limpiado los inputs ahora nos toca actualizar la lista de articles</p> <ul><li>Se agregó esta parte porque al momento de crear un article en la parte <code>const [articles, setArticles] = useState()</code> donde almacenamos la lista. Por consola podemos darnos cuenta de que nos llega undefined así que añadiendo un nuevo useEffect hacemos que la lista se actualice nuevamente.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>articles <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">getArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>articles<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="eliminar-article-sin-refrescar-pagina"><a href="#eliminar-article-sin-refrescar-pagina" class="header-anchor">#</a> Eliminar article sin refrescar página</h2> <ul><li>En este caso como arriba creamos un useEffect indicando que actualicé la lista si es que en algún momento le llegan undefined ya sea al crear o eliminar lo que realizara es refrezcar cada vez que se realice un evento de crear o eliminar</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">const</span> <span class="token function-variable function">handleDelete</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">await</span> axios
		<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_BACKEND_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/article/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/delete</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">//Actualizando lista</span>
			<span class="token function">setArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/roma-fullstack/fullstack-lanm/realizar-post.html" class="prev">
        5.- Creando nuestro primer (Article) POST
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/roma-fullstack/assets/js/app.597ac0ff.js" defer></script><script src="/roma-fullstack/assets/js/2.3f4652b3.js" defer></script><script src="/roma-fullstack/assets/js/17.20124216.js" defer></script>
  </body>
</html>
